"use strict";(self["webpackChunkwebapp"]=self["webpackChunkwebapp"]||[]).push([[411],{4878:function(e,s,o){o.r(s),o.d(s,{default:function(){return u}});var t=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login_container"},[e._m(0),s("div",{staticClass:"login_box"},[e._m(1),s("el-divider"),s("el-form",{ref:"loginFormRef",staticClass:"login_form",attrs:{rules:e.loginFormRules,model:e.loginForm,"label-width":"0px"}},[s("el-form-item",{attrs:{prop:"username"}},[s("el-input",{attrs:{"prefix-icon":"el-icon-s-custom",placeholder:"Please input username"},model:{value:e.loginForm.username,callback:function(s){e.$set(e.loginForm,"username",s)},expression:"loginForm.username"}})],1),s("el-form-item",{attrs:{prop:"password"}},[s("el-input",{attrs:{type:"password","prefix-icon":"el-icon-lock",placeholder:"Please input password"},model:{value:e.loginForm.password,callback:function(s){e.$set(e.loginForm,"password",s)},expression:"loginForm.password"}})],1),s("el-form-item",[s("el-checkbox",{attrs:{label:"Remember Username"},model:{value:e.keepuser,callback:function(s){e.keepuser=s},expression:"keepuser"}})],1),s("el-form-item",[s("el-button",{staticClass:"login-button",attrs:{type:"primary"},on:{click:e.doLogin}},[e._v("Login")])],1)],1)],1)])},r=[function(){var e=this,s=e._self._c;return s("div",{staticClass:"login_logo"},[s("img",{attrs:{src:"/images/logo.png"}})])},function(){var e=this,s=e._self._c;return s("div",{staticClass:"login_title"},[s("span",[e._v("LOGIN")])])}],n=(o(7658),{data(){return{loginForm:{username:"admin",password:"admin"},keepuser:!0,loginFormRules:{username:[{required:!0,message:" ",trigger:"blur"}],password:[{required:!0,message:" ",trigger:"blur"}]}}},created(){console.log("web app version: V1.21.05.2"),this.doInit()},methods:{doLogin(){this.$refs.loginFormRef.validate((async e=>{if(console.log("username: ",this.loginForm.username),!e)return!1;window.localStorage.setItem("keepuser",this.keepuser),this.keepuser&&window.localStorage.setItem("username",this.loginForm.username);const{data:s}=await this.$http.post("login",this.loginForm);if(console.log("post login return: ",s),200!==s.meta.status)return this.$message.error("Login failed");this.$message.success("Login successful"),window.sessionStorage.setItem("token",s.data.token),window.sessionStorage.setItem("snsMode",s.data.snsMode),window.sessionStorage.setItem("panoSnsId",s.data.panoSnsId),window.sessionStorage.setItem("snsSelect",s.data.snsSelect),window.sessionStorage.setItem("reloadFlag","true"),this.$router.push("/home")}))},doInit(){this.keepuser="true"===window.localStorage.getItem("keepuser"),console.log("keepuser: "+this.keepuser),this.keepuser&&(this.loginForm.username=window.localStorage.getItem("username"),console.log("username: "+this.loginForm.username))}}}),i=n,a=o(1001),l=(0,a.Z)(i,t,r,!1,null,"d2ffb550",null),u=l.exports}}]);